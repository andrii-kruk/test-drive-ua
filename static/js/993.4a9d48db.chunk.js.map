{"version":3,"file":"static/js/993.4a9d48db.chunk.js","mappings":"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","sources":["redux/cars/carsSelectors.js","components/ProductList/ProductList.jsx","pages/CatalogPage/CatalogPage.styled.js","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["export const selectCars = state => state.cars.items;\nexport const selectIsLoading = state => state.cars.isLoading;\nexport const selectError = state => state.cars.error;\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCars } from 'redux/cars/carsOperations';\nimport { selectCars, selectIsLoading } from 'redux/cars/carsSelectors';\nimport BtnText from 'components/BtnText/BtnText';\nimport ProductItem from './ProductItem/ProductItem';\n\nimport { List } from './ProductList.styled';\nimport { toggleClassName } from 'utils';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst ProductList = () => {\n  const dispatch = useDispatch();\n\n  const [visible, setVisible] = useState(12);\n  const [page, setPage] = useState(1);\n\n  const cars = useSelector(selectCars);\n  const isLoading = useSelector(selectIsLoading);\n\n  const onLoadMore = async event => {\n    const btn = event.currentTarget;\n\n    try {\n      setPage(prevPage => prevPage + 1);\n\n      const response = await dispatch(getCars({ page: page + 1 }));\n\n      if (response.payload.length === 0) {\n        toggleClassName(btn, 'visually-hidden');\n        toast.info('At this moment, these are all the suggestions.', {\n          position: 'top-right',\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: 'light',\n        });\n        return;\n      }\n\n      if (response.payload.length > 0 && response.payload.length < 12)\n        return setVisible(prevValue => prevValue + response.payload.length);\n\n      setVisible(prevValue => prevValue + 12);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (cars.length > 0) return;\n\n    dispatch(getCars({ page }));\n  }, [dispatch, cars, page]);\n\n  return (\n    <>\n      <List>\n        {cars?.slice(0, visible).map(item => (\n          <ProductItem item={item} key={item.id} />\n        ))}\n      </List>\n      <BtnText\n        type=\"button\"\n        size=\"xs\"\n        text={isLoading ? 'Loading...' : 'Load more'}\n        handleClick={onLoadMore}\n      />\n      <ToastContainer />\n    </>\n  );\n};\n\nexport default ProductList;\n","import styled from 'styled-components';\n\nexport const PageContainer = styled.div`\n  padding: 64px 0;\n`;\n","import ProductList from 'components/ProductList/ProductList';\nimport Toolbar from 'components/Toolbar/Toolbar';\nimport { PageContainer } from './CatalogPage.styled';\n\nconst CatalogPage = () => {\n  return (\n    <PageContainer>\n      <Toolbar />\n      <ProductList />\n    </PageContainer>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["selectCars","state","cars","items","selectIsLoading","isLoading","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","visible","setVisible","_useState3","_useState4","page","setPage","useSelector","onLoadMore","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","event","btn","response","_context","prev","next","currentTarget","prevPage","getCars","sent","payload","length","toggleClassName","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","abrupt","prevValue","t0","console","log","stop","_x","apply","arguments","useEffect","_jsxs","_Fragment","children","_jsx","List","slice","map","item","ProductItem","id","BtnText","type","size","text","handleClick","ToastContainer","PageContainer","styled","_templateObject","_taggedTemplateLiteral","Toolbar","ProductList"],"sourceRoot":""}